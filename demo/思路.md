# 思路

使用了 hooks

可以把绑定数据的流程放在 数组，在 hooks 运行时加入列队

任何变量都用函数包裹，通过闭包保存状态

穿过组件的闭包使用 getter 绑定，给子组件传值

```js
// in index.5.js
function Children1({a, children}) {
    return (
        dom.div({ class:() => a + 1  },
            children
        )
    )
}

const Children = Components(Children1)


let i = 1
function index() {
    return (
        dom.div({},
            Children({
                a: () => i
            },
                'A'
            )
        )
    )
}

const Index = Components(index)

Index()

{
    type: 'div',
    attr: {},
    children: [
        {
            type: 'div',
            attr: {
                class: 2
            },
            children: ['A']
        }
    ]
}

i= 2

Index()

{
    type: 'div',
    attr: {},
    children: [
        {
            type: 'div',
            attr: {
                class: 3
            },
            children: ['A']
        }
    ]
}


```